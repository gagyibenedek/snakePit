{"ts":1376079905878,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"function Snake(currentX, currentY, direction, color, front, left, back, right, ctx,stop) {\n    \"use strict\";\n\n    this.currentX = currentX;\n    this.currentY = currentY;\n    this.direction = direction;\n    this.color = color;\n    this.front = front;\n    this.left = left;\n    this.back = back;\n    this.right = right;\n    this.ctx = ctx;\n\t\n\tthis.point = 100;\n\tthis.redraw = true;\n}\n\nSnake.prototype.getX = function () {\n    \"use strict\";\n    return this.currentX;\n};\n\nSnake.prototype.getY = function () {\n    \"use strict\";\n    return this.currentY;\n};\n\nSnake.prototype.draw = function () {\n    \"use strict\";\n\n    var cropX,\n        cropY,\n        cropSizeX,\n        cropSizeY,\n        xTar = this.currentX,\n        whatColor,\n        i,\n        yTar = this.currentY;\n\t\n    if (this.direction === this.right) {\n        xTar -= 5;\n\n        cropX = xTar + 2;\n        cropY = yTar - 2;\n        cropSizeX = -4;\n        cropSizeY = 4;\n    } else if (this.direction === this.front) {\n        yTar -= 5;\n\n        cropX = xTar + 2;\n        cropY = yTar - 2;\n        cropSizeX = -4;\n        cropSizeY = 4;\n    } else if (this.direction === this.left) {\n        xTar += 5;\n\n        cropX = xTar + 2;\n        cropY = yTar - 2;\n        cropSizeX = -4;\n        cropSizeY = 4;\n    } else if (this.direction === this.back) {\n        yTar += 5;\n\n        cropX = xTar + 2;\n        cropY = yTar - 2;\n        cropSizeX = -4;\n        cropSizeY = 4;\n    }\n\t\n\twhatColor = this.ctx.getImageData(cropX, cropY, cropSizeX, cropSizeY);\n\n    for (i = 0; i < 4 * 4 * 4; i += 4) {\n\n        if (whatColor.data[i] !== 255 || whatColor.data[i + 1] !== 255 || whatColor.data[i + 2] !== 255) {\n            //alert(\"collision!\" + this.color +\" died :P\");\n\t\t\tthis.redraw = false;\n            //stop();\n            break;\n        }\n\n    }\n\n\n    this.ctx.beginPath();\n    this.ctx.moveTo(this.currentX, this.currentY);\n    this.ctx.lineTo(xTar, yTar);\n    this.ctx.lineWidth = 5;\n    this.ctx.closePath();\n    this.ctx.strokeStyle = this.color;\n    this.ctx.stroke();\n\n    this.currentX = xTar;\n    this.currentY = yTar;\n\n};\n\nSnake.prototype.setDirection = function (keyCode) {\n    \"use strict\";\n\n    if (this.front === keyCode && this.direction !== this.back){\n\t\tthis.direction = keyCode;\n\t} else if(this.left === keyCode && this.direction !== this.right){\n\t\tthis.direction = keyCode;\n\t}else if(this.back === keyCode && this.direction !== this.front){\n\t\tthis.direction = keyCode;\n\t} else if(this.right === keyCode && this.direction !== this.left) {\n        this.direction = keyCode;\n    }\n};"]],"start1":0,"start2":0,"length1":0,"length2":2552}]],"length":2552}
{"contributors":[],"silentsave":false,"ts":1376081171616,"patch":[[{"diffs":[[0,"\n    }\n\n"],[-1,"\n"],[0,"    this"]],"start1":1793,"start2":1793,"length1":17,"length2":16}]],"length":2551,"saved":false}
{"contributors":[],"silentsave":false,"ts":1379260445073,"patch":[[{"diffs":[[0," false;\n"],[1,"\t\t\tthis.point -= 10;\n"],[0,"        "]],"start1":1734,"start2":1734,"length1":16,"length2":37}]],"length":2572,"saved":false}
{"contributors":[],"silentsave":false,"ts":1379361213766,"patch":[[{"diffs":[[0,"se;\n"],[-1,"\t\t\tthis.point -= 10;\n"],[0,"    "]],"start1":1738,"start2":1738,"length1":29,"length2":8},{"diffs":[[0,"  }\n\n    }\n\n"],[1,"\n"],[0,"    this.ctx"]],"start1":1789,"start2":1789,"length1":24,"length2":25}]],"length":2552,"saved":false}
