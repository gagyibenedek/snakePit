{"ts":1376079678834,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*jslint browser: true*/\n/*global draw, Snake, console*/\nvar xPos,\n    yPos,\n    xTar,\n    yTar,\n    canvas,\n\tctx,\n    timer,\n    bonusTimer,\n    timerValue,\n    snakes,\n    direction;\n\n\nfunction doKeyDown(e) {\n    \"use strict\";\n\n    var i;\n\t\n    for (i = 0; i < snakes.length;\n        (i++)) {\n        snakes[i].setDirection(e.keyCode);\n    }\n\n    if (e.keyCode === 43 && timerValue > 100) { //+\n        window.clearInterval(timer);\n        timerValue -= 50;\n        timer = window.setInterval(function () {\n            draw();\n        }, timerValue);\n    }\n\n    if (e.keyCode === 45 && timerValue < 1000) { //-\n        window.clearInterval(timer);\n        timerValue += 50;\n        timer = window.setInterval(function () {\n            draw();\n        }, timerValue);\n    }\n\n}\n\nfunction init() {\n    \"use strict\";\n\t\n\ttimerValue = 100;\n\n    canvas = document.getElementById('canvas');\n    if (canvas.getContext) {\n        ctx = canvas.getContext(\"2d\");\n        ctx.fillStyle = '#FFFFFF'; // set canvas background color\n        ctx.fillRect(0, 0, 400, 400); // now fill the canvas\n    }\n\n    window.addEventListener(\"keypress\", doKeyDown, false);    \n}\n\nvar start = function(){\n    \"use strict\";\n\tvar date = new Date();\n\tdocument.getElementById(\"controlButton\").firstChild.data=\"Next round\";\n\t\n\tstart = function (){\n\t\n\tcanvas.width = canvas.width;\n\tctx.clearRect(0, 0, 400, 400);\n\t\n\tsnakes = [];\n\n\tvar players = document.getElementById('playerNr').value;\n\t\n\tvar x1rand = Math.floor(Math.random()*101+20);\n\tvar y1rand = Math.floor(Math.random()*101+20);\n\tvar x2rand = Math.floor(Math.random()*101+300);\n\tvar y2rand = Math.floor(Math.random()*101+300);\n\t\n\tvar scores = document.getElementById(\"scores\");\n\t\n\t\n\t// directions: front, left, back, right\n    snakes.push(new Snake(x1rand, y1rand, 115, \"black\", 119, 100, 115, 97, ctx, stop()));\n\tif(players > 1){\n\t\tsnakes.push(new Snake(x2rand, y2rand, 105, \"olive\", 105, 108, 107, 106, ctx, stop()));\n\t}\n\tif(players > 2){\n\t\tsnakes.push(new Snake(x1rand, y2rand, 51, \"pink\", 53, 51, 50, 49, ctx, stop()));\n\t}\n\n    timer = window.setInterval(function () {\n            draw()\n        }, timerValue);\n\t\t\n\t};\n\n\tstart();\n}\n\nfunction draw(){\n\tvar roundOver = true;\n\tfor (i = 0; i < snakes.length;\n        (i++)) {\n\t\tvar snake = snakes[i];\n\t\tif(snake.redraw){\n\t\t\tsnakes[i].draw();\n\t\t\troundOver = false;\n\t\t}\n    }\n}\n\nfunction stop() {\n    \"use strict\";\n\n\twindow.clearInterval(timer);\n    init();\n}"]],"start1":0,"start2":0,"length1":0,"length2":2430}]],"length":2430}
{"contributors":[],"silentsave":false,"ts":1376079885328,"patch":[[{"diffs":[[0,"= true;\n"],[1,"    var i;\n"],[0,"\tfor (i "]],"start1":2192,"start2":2192,"length1":16,"length2":27}]],"length":2441,"saved":false}
{"ts":1376079937074,"patch":[[{"diffs":[[0,"t\";\n"],[-1,"\tvar date = new Date();\n"],[0,"\tdoc"]],"start1":1191,"start2":1191,"length1":32,"length2":8},{"diffs":[[0,"round\";\n"],[1,""],[0,"\t\n\tstart"]],"start1":1259,"start2":1259,"length1":16,"length2":16},{"diffs":[[0,";\n\t\n"],[-1,"\tvar scores = document.getElementById(\"scores\");\n\t\n\t\n"],[0,"\t// "]],"start1":1624,"start2":1624,"length1":61,"length2":8},{"diffs":[[0,"  draw()"],[1,";"],[0,"\n       "]],"start1":2029,"start2":2029,"length1":16,"length2":17},{"diffs":[[0,"tart();\n"],[-1,""],[0,"}"],[1,";"],[0,"\n\nfuncti"]],"start1":2073,"start2":2073,"length1":17,"length2":18}]],"length":2366,"saved":false}
